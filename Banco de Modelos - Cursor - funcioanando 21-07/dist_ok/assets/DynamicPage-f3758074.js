import{b9 as k,a as L,r as x,j as e,q as S,B as _,t as C,a4 as i}from"./index-1d87757c.js";import{A as D}from"./alert-triangle-bda1dbcf.js";const q=()=>{const{slug:o}=k(),w=L(),[u,E]=x.useState(null),[F,p]=x.useState(!0),[d,c]=x.useState(null);x.useEffect(()=>{(async()=>{if(!o){c("Slug da página não fornecido."),p(!1);return}p(!0),c(null);try{const{data:t,error:m}=await C.from("pages").select("title, content, is_published").eq("slug",o).single();if(m)throw m;t&&t.is_published?E(t):t&&!t.is_published?c("Esta página não está publicada no momento."):c("Página não encontrada.")}catch(t){console.error("Erro ao buscar página dinâmica:",t),c(t.message||"Ocorreu um erro ao carregar a página.")}finally{p(!1)}})()},[o]);const l=a=>{var t,m,h,g,f,j,b,y,v;if(!a||!a.type)return null;switch(a.type){case"doc":return((t=a.content)==null?void 0:t.map((r,s)=>e.jsx(i.Fragment,{children:l(r)},s)))||null;case"paragraph":return e.jsx("p",{className:"mb-4 leading-relaxed",children:((m=a.content)==null?void 0:m.map((r,s)=>e.jsx(i.Fragment,{children:l(r)},s)))||""});case"heading":const P=`h${((h=a.attrs)==null?void 0:h.level)||1}`;return e.jsx(P,{className:`font-bold mb-3 mt-5 ${((g=a.attrs)==null?void 0:g.level)===1?"text-3xl":((f=a.attrs)==null?void 0:f.level)===2?"text-2xl":"text-xl"}`,children:((j=a.content)==null?void 0:j.map((r,s)=>e.jsx(i.Fragment,{children:l(r)},s)))||""});case"text":let n=e.jsx(e.Fragment,{children:a.text});return a.marks&&a.marks.forEach(r=>{r.type==="bold"&&(n=e.jsx("strong",{children:n})),r.type==="italic"&&(n=e.jsx("em",{children:n})),r.type==="link"&&(n=e.jsx("a",{href:r.attrs.href,target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:underline",children:n}))}),n;case"bulletList":return e.jsx("ul",{className:"list-disc pl-6 mb-4 space-y-1",children:((b=a.content)==null?void 0:b.map((r,s)=>e.jsx(i.Fragment,{children:l(r)},s)))||null});case"orderedList":return e.jsx("ol",{className:"list-decimal pl-6 mb-4 space-y-1",children:((y=a.content)==null?void 0:y.map((r,s)=>e.jsx(i.Fragment,{children:l(r)},s)))||null});case"listItem":return e.jsx("li",{children:((v=a.content)==null?void 0:v.map((r,s)=>e.jsx(i.Fragment,{children:l(r)},s)))||""});case"image":return e.jsx("img-replace",{src:a.attrs.src,alt:a.attrs.alt||"Imagem da página",className:"my-4 rounded-md shadow-md max-w-full h-auto"});case"horizontalRule":return e.jsx("hr",{className:"my-6"});default:return null}};return F?e.jsx("div",{className:"container mx-auto px-4 py-16 flex justify-center items-center min-h-[calc(100vh-12rem)]",children:e.jsx(S,{className:"h-12 w-12 animate-spin text-pink-600"})}):d||!u?e.jsxs("div",{className:"container mx-auto px-4 py-16 text-center min-h-[calc(100vh-12rem)]",children:[e.jsx(D,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Erro ao Carregar Página"}),e.jsx("p",{className:"text-gray-600 mb-6",children:d||"Não foi possível carregar o conteúdo desta página."}),e.jsx(_,{onClick:()=>w("/"),variant:"outline",children:"Voltar para o Início"})]}):e.jsx("div",{className:"container mx-auto px-4 py-8 md:py-12",children:e.jsxs("article",{className:"prose lg:prose-xl max-w-4xl mx-auto bg-white p-6 sm:p-8 md:p-12 rounded-xl shadow-lg",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8 text-center gradient-text",children:u.title}),l(u.content)]})})};export{q as default};
