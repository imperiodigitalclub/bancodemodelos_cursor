import{c as ee,j as e,L as n,Z as h,g as N,h as C,i as w,k as F,aR as ae,l as S,am as le,T as se,Y as te,al as ie,n as U,N as ce,an as ne,ao as de,ap as oe,aw as re,r as m,az as q,ax as me,aB as I,ay as he,aD as ue,aC as xe,a4 as pe,a3 as O,u as ge,o as je,B as M,q as ve}from"./index-1d87757c.js";import{T as V}from"./textarea-bd3e9a46.js";import{P as _e,v as fe,h as be}from"./ProfileFormHandler-24dd2d47.js";const Me=ee("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),ye=({formData:s,handleInputChange:l,handleSelectChange:i,errors:a,isAdminEditing:d=!1})=>e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-semibold border-t pt-4 mt-6",children:"Informações Básicas"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"first_name",children:"Nome"}),e.jsx(h,{id:"first_name",name:"first_name",value:s.first_name||"",onChange:l,required:!0}),(a==null?void 0:a.first_name)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.first_name})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"last_name",children:"Sobrenome"}),e.jsx(h,{id:"last_name",name:"last_name",value:s.last_name||"",onChange:l,required:!0}),(a==null?void 0:a.last_name)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.last_name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"legal_full_name",children:"Nome Completo (Documento)"}),e.jsx(h,{id:"legal_full_name",name:"legal_full_name",value:s.legal_full_name||"",onChange:l}),(a==null?void 0:a.legal_full_name)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.legal_full_name})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"email",children:"Email"}),e.jsx(h,{id:"email",name:"email",type:"email",value:s.email||"",onChange:l,disabled:!d,required:!0}),(a==null?void 0:a.email)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.email})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"birth_date",children:"Data de Nascimento (Documento)"}),e.jsx(h,{id:"birth_date",name:"birth_date",type:"date",value:s.birth_date||"",onChange:l}),(a==null?void 0:a.birth_date)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.birth_date})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"display_age",children:"Idade (para exibição - opcional)"}),e.jsx(h,{id:"display_age",name:"display_age",type:"number",value:s.display_age||"",onChange:l,placeholder:"Ex: 25"}),(a==null?void 0:a.display_age)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.display_age})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone",children:"WhatsApp (com DDD)"}),e.jsx(h,{id:"phone",name:"phone",value:s.phone||"",onChange:l,placeholder:"(XX) XXXXX-XXXX"}),(a==null?void 0:a.phone)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.phone})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"instagram_handle_raw",children:"Instagram (Link ou @usuario)"}),e.jsx(h,{id:"instagram_handle_raw",name:"instagram_handle_raw",value:s.instagram_handle_raw||"",onChange:l,placeholder:"Ex: @usuario ou instagram.com/usuario"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"city",children:"Cidade"}),e.jsx(h,{id:"city",name:"city",value:s.city||"",onChange:l,placeholder:"Ex: São Paulo"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"state",children:"Estado"}),e.jsxs(N,{name:"state",value:s.state||"",onValueChange:r=>i("state",r),children:[e.jsx(C,{id:"state",children:e.jsx(w,{placeholder:"Selecione o estado"})}),e.jsx(F,{children:ae.map(r=>e.jsx(S,{value:r.value,children:r.label},r.value))})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"bio",children:"Bio / Sobre Você"}),e.jsx(V,{id:"bio",name:"bio",value:s.bio||"",onChange:l,placeholder:"Fale um pouco sobre você, seus trabalhos, experiências...",rows:4})]})]}),Ne=({formData:s,handleInputChange:l,handleMultiSelectChange:i,errors:a})=>{const d=t=>{if(t==null)return"";const c=Number(t);return isNaN(c)?"":c.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})},r=t=>{const c=t.target.value.replace(/\D/g,"");l(c===""?{target:{name:"cache_value",value:null}}:{target:{name:"cache_value",value:parseFloat(c)/100}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold border-t pt-6",children:"Detalhes de Modelo"}),e.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsx(n,{htmlFor:"cache_value",className:"text-lg font-semibold text-purple-800",children:"Cachê por Trabalho"}),e.jsx("p",{className:"text-sm text-purple-700 mt-1 mb-3",children:'Esse valor será o mínimo que um contratante pode oferecer para uma contratação direta pelo seu perfil. Deixe em branco ou 0 para "A Combinar".'}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"flex items-center justify-center h-11 px-3 bg-gray-100 border border-r-0 border-gray-300 rounded-l-md text-sm text-gray-600",children:"R$"}),e.jsx(h,{type:"text",id:"cache_value",name:"cache_value",value:d(s.cache_value),onChange:r,placeholder:"0,00",className:"rounded-l-none pl-3"})]}),(a==null?void 0:a.cache_value)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.cache_value})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"gender",className:"text-gray-700",children:"Gênero"}),e.jsxs(N,{name:"gender",value:s.gender||"",onValueChange:t=>l({target:{name:"gender",value:t}}),children:[e.jsx(C,{className:"w-full mt-1",children:e.jsx(w,{placeholder:"Selecione o gênero"})}),e.jsx(F,{children:le.map(t=>e.jsx(S,{value:t.value,children:t.label},t.value))})]}),(a==null?void 0:a.gender)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.gender})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"model_type",className:"text-gray-700",children:"Tipo (Aparência Principal)"}),e.jsxs(N,{name:"model_type",value:s.model_type||"",onValueChange:t=>l({target:{name:"model_type",value:t}}),children:[e.jsx(C,{className:"w-full mt-1",children:e.jsx(w,{placeholder:"Selecione o tipo"})}),e.jsx(F,{children:se.map(t=>e.jsx(S,{value:t.value,children:t.label},t.value))})]}),(a==null?void 0:a.model_type)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.model_type})]})]}),e.jsx("div",{className:"grid grid-cols-1",children:e.jsxs("div",{children:[e.jsx(n,{htmlFor:"model_physical_type",className:"text-gray-700",children:"Perfil Físico"}),e.jsxs(N,{name:"model_physical_type",value:s.model_physical_type||"",onValueChange:t=>l({target:{name:"model_physical_type",value:t}}),children:[e.jsx(C,{className:"w-full mt-1",children:e.jsx(w,{placeholder:"Selecione o tipo físico"})}),e.jsx(F,{children:te.map(t=>e.jsx(S,{value:t.value,children:t.label},t.value))})]}),(a==null?void 0:a.model_physical_type)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.model_physical_type})]})}),e.jsxs("div",{children:[e.jsx(n,{className:"text-gray-700",children:"Características"}),e.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 gap-3",children:ie.map(t=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded-md bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsx(U,{id:`characteristic-${t.value}`,checked:(s.model_characteristics||[]).includes(t.value),onCheckedChange:c=>i("model_characteristics",t.value,c)}),e.jsx(n,{htmlFor:`characteristic-${t.value}`,className:"text-sm font-normal text-gray-700 cursor-pointer flex-1",children:t.label})]},t.value))}),(a==null?void 0:a.model_characteristics)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.model_characteristics})]}),e.jsxs("div",{children:[e.jsx(n,{className:"text-gray-700",children:"Interesses de Trabalho"}),e.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 gap-3",children:ce.map(t=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded-md bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsx(U,{id:`interest-${t.value}`,checked:(s.work_interests||[]).includes(t.value),onCheckedChange:c=>i("work_interests",t.value,c)}),e.jsx(n,{htmlFor:`interest-${t.value}`,className:"text-sm font-normal text-gray-700 cursor-pointer flex-1",children:t.label})]},t.value))}),(a==null?void 0:a.work_interests)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.work_interests})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"height",className:"text-gray-700",children:"Altura (cm)"}),e.jsx(h,{type:"number",id:"height",name:"height",value:s.height||"",onChange:l,placeholder:"Ex: 175",className:"mt-1"}),(a==null?void 0:a.height)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.height})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"weight",className:"text-gray-700",children:"Peso (kg)"}),e.jsx(h,{type:"number",id:"weight",name:"weight",value:s.weight||"",onChange:l,placeholder:"Ex: 60",className:"mt-1"}),(a==null?void 0:a.weight)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.weight})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"bust",className:"text-gray-700",children:"Busto (cm)"}),e.jsx(h,{type:"number",id:"bust",name:"bust",value:s.bust||"",onChange:l,placeholder:"Ex: 86",className:"mt-1"}),(a==null?void 0:a.bust)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.bust})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"waist",className:"text-gray-700",children:"Cintura (cm)"}),e.jsx(h,{type:"number",id:"waist",name:"waist",value:s.waist||"",onChange:l,placeholder:"Ex: 60",className:"mt-1"}),(a==null?void 0:a.waist)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.waist})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"hips",className:"text-gray-700",children:"Quadril (cm)"}),e.jsx(h,{type:"number",id:"hips",name:"hips",value:s.hips||"",onChange:l,placeholder:"Ex: 90",className:"mt-1"}),(a==null?void 0:a.hips)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.hips})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"hair_color",className:"text-gray-700",children:"Cor do Cabelo"}),e.jsxs(N,{name:"hair_color",value:s.hair_color||"",onValueChange:t=>l({target:{name:"hair_color",value:t}}),children:[e.jsx(C,{className:"w-full mt-1",children:e.jsx(w,{placeholder:"Selecione a cor do cabelo"})}),e.jsx(F,{children:ne.map(t=>e.jsx(S,{value:t.value,children:t.label},t.value))})]}),(a==null?void 0:a.hair_color)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.hair_color})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"eye_color",className:"text-gray-700",children:"Cor dos Olhos"}),e.jsxs(N,{name:"eye_color",value:s.eye_color||"",onValueChange:t=>l({target:{name:"eye_color",value:t}}),children:[e.jsx(C,{className:"w-full mt-1",children:e.jsx(w,{placeholder:"Selecione a cor dos olhos"})}),e.jsx(F,{children:de.map(t=>e.jsx(S,{value:t.value,children:t.label},t.value))})]}),(a==null?void 0:a.eye_color)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.eye_color})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"shoe_size",className:"text-gray-700",children:"Tamanho do Calçado (BR)"}),e.jsxs(N,{name:"shoe_size",value:s.shoe_size||"",onValueChange:t=>l({target:{name:"shoe_size",value:t}}),children:[e.jsx(C,{className:"w-full mt-1",children:e.jsx(w,{placeholder:"Selecione o tamanho"})}),e.jsx(F,{children:oe.map(t=>e.jsx(S,{value:t.value,children:t.label},t.value))})]}),(a==null?void 0:a.shoe_size)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.shoe_size})]})]})]})},Ce=({formData:s,handleInputChange:l,errors:i})=>e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-semibold border-t pt-4 mt-6",children:"Informações da Empresa/Atuação"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"company_name",children:"Nome da Empresa/Marca (Opcional)"}),e.jsx(h,{id:"company_name",name:"company_name",value:s.company_name||"",onChange:l}),(i==null?void 0:i.company_name)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.company_name})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"company_website",children:"Site (Opcional)"}),e.jsx(h,{id:"company_website",name:"company_website",value:s.company_website||"",onChange:l,placeholder:"Ex: www.suaempresa.com.br"})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"company_details",children:"Detalhes da Empresa/Atuação (Opcional)"}),e.jsx(V,{id:"company_details",name:"company_details",value:s.company_details||"",onChange:l,placeholder:"Descreva brevemente sua empresa ou área de atuação.",rows:3})]})]});var B="Switch",[we,qe]=re(B),[Fe,Se]=we(B),L=m.forwardRef((s,l)=>{const{__scopeSwitch:i,name:a,checked:d,defaultChecked:r,required:t,disabled:c,value:p="on",onCheckedChange:f,form:b,...k}=s,[y,u]=m.useState(null),g=q(l,v=>u(v)),X=m.useRef(!1),E=y?b||!!y.closest("form"):!0,[P,T]=me({prop:d,defaultProp:r??!1,onChange:f,caller:B});return e.jsxs(Fe,{scope:i,checked:P,disabled:c,children:[e.jsx(I.button,{type:"button",role:"switch","aria-checked":P,"aria-required":t,"data-state":W(P),"data-disabled":c?"":void 0,disabled:c,value:p,...k,ref:g,onClick:he(s.onClick,v=>{T(R=>!R),E&&(X.current=v.isPropagationStopped(),X.current||v.stopPropagation())})}),E&&e.jsx(H,{control:y,bubbles:!X.current,name:a,value:p,checked:P,required:t,disabled:c,form:b,style:{transform:"translateX(-100%)"}})]})});L.displayName=B;var K="SwitchThumb",Y=m.forwardRef((s,l)=>{const{__scopeSwitch:i,...a}=s,d=Se(K,i);return e.jsx(I.span,{"data-state":W(d.checked),"data-disabled":d.disabled?"":void 0,...a,ref:l})});Y.displayName=K;var ke="SwitchBubbleInput",H=m.forwardRef(({__scopeSwitch:s,control:l,checked:i,bubbles:a=!0,...d},r)=>{const t=m.useRef(null),c=q(t,r),p=ue(i),f=xe(l);return m.useEffect(()=>{const b=t.current;if(!b)return;const k=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(k,"checked").set;if(p!==i&&u){const g=new Event("click",{bubbles:a});u.call(b,i),b.dispatchEvent(g)}},[p,i,a]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...d,tabIndex:-1,ref:c,style:{...d.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});H.displayName=ke;function W(s){return s?"checked":"unchecked"}var G=L,Pe=Y;const J=pe.forwardRef(({className:s,...l},i)=>e.jsx(G,{className:O("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...l,ref:i,children:e.jsx(Pe,{className:O("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));J.displayName=G.displayName;const Xe=[{value:"model",label:"Modelo"},{value:"contractor",label:"Contratante"},{value:"photographer",label:"Fotógrafo"},{value:"admin",label:"Administrador"}],Ee=({formData:s,handleSelectChange:l,handleInputChange:i})=>s?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-semibold border-t pt-4 mt-6",children:"Configurações de Administrador"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"user_type",children:"Tipo de Usuário"}),e.jsxs(N,{name:"user_type",value:s.user_type||"",onValueChange:a=>l("user_type",a),children:[e.jsx(C,{id:"user_type",children:e.jsx(w,{placeholder:"Selecione o tipo de usuário"})}),e.jsx(F,{children:Xe.map(a=>e.jsx(S,{value:a.value,children:a.label},a.value))})]})]}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx(n,{htmlFor:"is_verified",className:"mb-2",children:"Usuário Verificado"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(J,{id:"is_verified",name:"is_verified",checked:s.is_verified||!1,onCheckedChange:a=>i({target:{name:"is_verified",type:"checkbox",checked:a}})}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.is_verified?"Sim, verificado":"Não verificado"})]})]})]})]}):null,Ie=({initialProfileData:s,onSuccess:l,onCancel:i,viewMode:a="user"})=>{const{user:d,refreshAuthUser:r}=ge(),{toast:t}=je(),[c,p]=m.useState({}),[f,b]=m.useState({}),[k,y]=m.useState(!1),[u,g]=m.useState({}),[X,E]=m.useState(""),[P,T]=m.useState(null);m.useEffect(()=>{const o=s||(a==="user"&&d?d:{});p(o),b(o),E((o==null?void 0:o.profile_image_url)||""),T(null),g({})},[s,d,a]);const v=m.useCallback(o=>{const{name:x,value:j,type:_,checked:$}=o.target;p(A=>({...A,[x]:_==="checkbox"?$:j})),u[x]&&g(A=>({...A,[x]:null}))},[u]),R=m.useCallback((o,x)=>{p(j=>({...j,[o]:x})),u[o]&&g(j=>({...j,[o]:null}))},[u]),Q=m.useCallback((o,x,j)=>{p(_=>{const $=_[o]||[];return j?{..._,[o]:[...$,x]}:{..._,[o]:$.filter(A=>A!==x)}}),u[o]&&g(_=>({..._,[o]:null}))},[u]),Z=m.useCallback(o=>{if(T(o),o){const x=new FileReader;x.onloadend=()=>{E(x.result)},x.readAsDataURL(o)}else E(c.profile_image_url||"")},[c.profile_image_url]),D=async o=>{o.preventDefault(),y(!0),g({});const x=fe(c,f,a);if(Object.keys(x).length>0){g(x),y(!1),t({title:"Erro de Validação",description:"Por favor, corrija os campos destacados.",variant:"destructive"});return}const j={...c,profile_image_file:P,profile_image_url:X},_=await be({formData:j,currentAuthUser:d,isAdminEditing:a==="admin",toast:t,refreshAuthUser:r,onSuccess:()=>{if(l){const $={...s,...c,profile_image_url:j.profile_image_url};l($)}}});y(!1),_&&P&&T(null)},z=a==="admin"?c==null?void 0:c.user_type:d==null?void 0:d.user_type;return e.jsxs("form",{onSubmit:D,className:"space-y-8",children:[e.jsx(_e,{profileImageUrl:X,onImageChange:Z,userName:c.name,isEditable:!0}),e.jsx(ye,{formData:c,handleInputChange:v,handleSelectChange:R,errors:u,isAdminEditing:a==="admin"}),z==="model"&&e.jsx(Ne,{formData:c,handleInputChange:v,handleMultiSelectChange:Q,errors:u}),(z==="contractor"||z==="photographer")&&e.jsx(Ce,{formData:c,handleInputChange:v,errors:u}),a==="admin"&&e.jsx(Ee,{formData:c,handleInputChange:v,handleSelectChange:R,errors:u}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[i&&e.jsx(M,{type:"button",variant:"outline",onClick:i,disabled:k,children:"Cancelar"}),e.jsxs(M,{type:"submit",disabled:k,className:"btn-gradient text-white",children:[k?e.jsx(ve,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Salvar Alterações"]})]})]})},Ve=[{value:"cpf",label:"CPF"},{value:"cnpj",label:"CNPJ"},{value:"email",label:"E-mail"},{value:"phone",label:"Celular (formato +55XX999999999)"},{value:"random",label:"Chave Aleatória"}],$e=[{value:"cnh_frente_verso",label:"CNH (Frente e Verso)",files:2},{value:"rg_frente_verso",label:"RG (Frente e Verso)",files:2},{value:"passaporte",label:"Passaporte (Página de Identificação)",files:1},{value:"rg_unico",label:"RG (Documento Único com Frente e Verso)",files:1}],Te=s=>{if(!s)return"";const l=s.replace(/\D/g,"");return l.length<=3?l:l.length<=6?`${l.slice(0,3)}.${l.slice(3)}`:l.length<=9?`${l.slice(0,3)}.${l.slice(3,6)}.${l.slice(6)}`:`${l.slice(0,3)}.${l.slice(3,6)}.${l.slice(6,9)}-${l.slice(9,11)}`},Ae=s=>{if(!s)return"";const l=s.replace(/\D/g,"");return l.length<=2?l:l.length<=5?`${l.slice(0,2)}.${l.slice(2)}`:l.length<=8?`${l.slice(0,2)}.${l.slice(2,5)}.${l.slice(5)}`:l.length<=12?`${l.slice(0,2)}.${l.slice(2,5)}.${l.slice(5,8)}/${l.slice(8)}`:`${l.slice(0,2)}.${l.slice(2,5)}.${l.slice(5,8)}/${l.slice(8,12)}-${l.slice(12,14)}`},Re=s=>{if(!s)return"";let l=s.replace(/\D/g,"");return l.startsWith("55")&&l.length>2?l=l.substring(2):l.startsWith("+55")&&l.length>3&&(l=l.substring(3)),l.length<=2?`(${l}`:l.length<=6?`(${l.slice(0,2)}) ${l.slice(2)}`:l.length<=10?`(${l.slice(0,2)}) ${l.slice(2,6)}-${l.slice(6)}`:`(${l.slice(0,2)}) ${l.slice(2,7)}-${l.slice(7,11)}`},Le=(s,l)=>{if(!s||!l)return s;switch(l){case"cpf":return Te(s);case"cnpj":return Ae(s);case"phone":return Re(s);case"email":case"random":default:return s}},Be=(s,l,i=null)=>{const a=s.trim(),d=a.replace(/\D/g,"");if(!a)return"Chave PIX é obrigatória.";switch(l){case"cpf":return d.length!==11?"Chave PIX (CPF) deve ter 11 dígitos.":i&&d!==i.replace(/\D/g,"")?"Chave PIX (CPF) deve ser igual ao CPF informado no cadastro.":null;case"cnpj":return d.length!==14?"Chave PIX (CNPJ) deve ter 14 dígitos.":null;case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?null:"Formato de e-mail inválido para chave PIX.";case"phone":const r=a.replace(/\D/g,"");let t=r;return r.startsWith("55")&&r.length>2&&(t=r.substring(2)),/^\d{10,11}$/.test(t)?null:"Formato de telefone inválido. Use (XX) XXXXX-XXXX ou (XX) XXXX-XXXX (sem +55).";case"random":return a.length<10||a.length>77?"Chave aleatória inválida (muito curta ou longa).":null;default:return"Tipo de chave PIX inválido."}},Ke=(s,l)=>{const i={};if(s.full_name.trim()||(i.full_name="Nome completo é obrigatório."),!s.birth_date)i.birth_date="Data de nascimento é obrigatória.";else{const t=new Date,c=new Date(s.birth_date);let p=t.getFullYear()-c.getFullYear();const f=t.getMonth()-c.getMonth();(f<0||f===0&&t.getDate()<c.getDate())&&p--,p<18&&(i.birth_date="Você deve ser maior de 18 anos.")}s.document_type||(i.document_type="Tipo de documento é obrigatório.");const a=$e.find(t=>t.value===s.document_type);!s.document_front&&!(l!=null&&l.document_front_image_url)&&(i.document_front=(a==null?void 0:a.files)===1?"Documento (imagem única) é obrigatório.":"Frente do documento é obrigatória."),s.document_front&&s.document_front.size>5*1024*1024&&(i.document_front="Arquivo da frente do documento muito grande (máx 5MB)."),(a==null?void 0:a.files)===2&&!s.document_back&&!(l!=null&&l.document_back_image_url)&&(i.document_back="Verso do documento é obrigatório."),s.document_back&&s.document_back.size>5*1024*1024&&(i.document_back="Arquivo do verso do documento muito grande (máx 5MB)."),!s.document_selfie&&!(l!=null&&l.document_selfie_url)&&(i.document_selfie="Selfie segurando o documento é obrigatória."),s.document_selfie&&s.document_selfie.size>5*1024*1024&&(i.document_selfie="Arquivo da selfie muito grande (máx 5MB).");const d=s.cpf.replace(/\D/g,"");d?d.length!==11?i.cpf="CPF deve conter 11 dígitos.":/^\d{11}$/.test(d)||(i.cpf="CPF inválido. Use apenas números."):i.cpf="CPF é obrigatório.",s.pix_key_type||(i.pix_key_type="Tipo da chave PIX é obrigatório.");const r=Be(s.pix_key,s.pix_key_type,d);return r&&(i.pix_key=r),i};export{$e as D,Ie as P,J as S,Me as U,Ve as a,Le as b,Te as f,Ke as v};
