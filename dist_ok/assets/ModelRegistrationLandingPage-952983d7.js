import{c as qe,u as ye,o as Me,r as N,ba as ze,j as s,J as Ue,_ as Ge,$ as He,a0 as Ke,K as Ye,L as w,Z as A,bb as Je,bc as ne,g as K,h as Y,i as J,k as Z,aR as Ze,l as Q,am as Qe,T as et,Y as tt,al as st,n as we,N as nt,B as at,q as _e,f as it,at as rt,t as lt}from"./index-1d87757c.js";import{P as ot,v as ct}from"./ProfileFormHandler-24dd2d47.js";import{A as ht}from"./alert-triangle-bda1dbcf.js";import"./crop-74373485.js";const dt=qe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),ut=({formStyle:k})=>{const{register:q,isRegisteringProfile:L}=ye(),{toast:b}=Me(),[d,E]=N.useState({userType:"model",email:"",password:"",confirmPassword:"",first_name:"",last_name:"",phone:"",instagram_handle_raw:"",profile_image_file:null,city:"",state:"",gender:"feminino",model_type:"",model_physical_type:"",model_characteristics:[],work_interests:[],cache_value:null}),[c,P]=N.useState({}),[C,_]=N.useState(null);N.useEffect(()=>()=>{C&&C.startsWith("blob:")&&URL.revokeObjectURL(C)},[C]);const m=N.useCallback(r=>{const{name:h,value:p}=r.target;let g=p;h==="phone"&&(g=ze(p)),E(S=>({...S,[h]:g})),c[h]&&P(S=>({...S,[h]:null}))},[c]),F=N.useCallback((r,h)=>{E(p=>({...p,[r]:h})),c[r]&&P(p=>({...p,[r]:null}))},[c]),$=N.useCallback((r,h,p)=>{E(g=>{const S=g[r]||[];return p?{...g,[r]:[...S,h]}:{...g,[r]:S.filter(j=>j!==h)}}),c[r]&&P(g=>({...g,[r]:null}))},[c]),W=N.useCallback(r=>{E(h=>({...h,profile_image_file:r})),_(h=>(h&&h.startsWith("blob:")&&URL.revokeObjectURL(h),r?URL.createObjectURL(r):null))},[]),I=r=>{const h=r.target.value.replace(/\D/g,"");m(h===""?{target:{name:"cache_value",value:null}}:{target:{name:"cache_value",value:parseFloat(h)/100}})},V=r=>{if(r==null)return"";const h=Number(r);return isNaN(h)?"":h.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})},B=()=>{const r={};d.email.includes("@")||(r.email="Email inválido."),d.password.length<6&&(r.password="A senha deve ter pelo menos 6 caracteres."),d.password!==d.confirmPassword&&(r.confirmPassword="As senhas não coincidem.");const h=ct(d,{},"user");return Object.assign(r,h),P(r),Object.keys(r).length===0},O=async r=>{if(r.preventDefault(),!B()){b({title:"Erro de Validação",description:"Por favor, corrija os campos destacados.",variant:"destructive"});return}const h={...d,instagram_handle:ne(d.instagram_handle_raw)};await q(h)};return s.jsxs(Ue,{style:{backgroundColor:(k==null?void 0:k.background_color)||"#FFFFFF"},className:"shadow-2xl",children:[s.jsxs(Ge,{className:"text-center",children:[s.jsx(He,{className:"text-2xl md:text-3xl",children:"Crie seu Perfil de Modelo"}),s.jsx(Ke,{children:"Preencha os campos abaixo para começar."})]}),s.jsx(Ye,{children:s.jsxs("form",{onSubmit:O,className:"space-y-8",children:[s.jsx(ot,{onImageChange:W,userName:d.first_name,imagePreview:C}),s.jsxs("fieldset",{className:"space-y-6",children:[s.jsx("legend",{className:"text-xl font-semibold border-b pb-2 w-full",children:"Informações Pessoais"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(w,{htmlFor:"first_name",children:"Nome"}),s.jsx(A,{id:"first_name",name:"first_name",value:d.first_name||"",onChange:m,required:!0}),(c==null?void 0:c.first_name)&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.first_name})]}),s.jsxs("div",{children:[s.jsx(w,{htmlFor:"last_name",children:"Sobrenome"}),s.jsx(A,{id:"last_name",name:"last_name",value:d.last_name||"",onChange:m,required:!0}),(c==null?void 0:c.last_name)&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.last_name})]})]})]}),s.jsxs("fieldset",{className:"space-y-6",children:[s.jsx("legend",{className:"text-xl font-semibold border-b pb-2 w-full",children:"Dados de Acesso"}),s.jsx("div",{className:"grid grid-cols-1",children:s.jsxs("div",{children:[s.jsx(w,{htmlFor:"email",children:"Email"}),s.jsx(A,{id:"email",name:"email",type:"email",value:d.email,onChange:m,required:!0}),c.email&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.email})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(w,{htmlFor:"password",children:"Senha (mínimo 6 caracteres)"}),s.jsx(A,{id:"password",name:"password",type:"password",value:d.password,onChange:m,required:!0}),c.password&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.password})]}),s.jsxs("div",{children:[s.jsx(w,{htmlFor:"confirmPassword",children:"Confirmar Senha"}),s.jsx(A,{id:"confirmPassword",name:"confirmPassword",type:"password",value:d.confirmPassword,onChange:m,required:!0}),c.confirmPassword&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.confirmPassword})]})]})]}),s.jsxs("fieldset",{className:"space-y-6",children:[s.jsx("legend",{className:"text-xl font-semibold border-b pb-2 w-full",children:"Informações do Perfil"}),s.jsxs("div",{className:"p-4 border-l-4 border-green-400 bg-green-50 rounded-md",children:[s.jsxs(w,{htmlFor:"phone",className:"flex items-center text-lg",children:[s.jsx(dt,{className:"h-5 w-5 mr-2"})," WhatsApp (com DDD)"]}),s.jsx(A,{id:"phone",name:"phone",value:d.phone,onChange:m,placeholder:"(XX) XXXXX-XXXX",className:"text-base mt-2"}),(c==null?void 0:c.phone)&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.phone})]}),s.jsxs("div",{className:"p-4 border-l-4 border-pink-400 bg-pink-50 rounded-md",children:[s.jsxs(w,{htmlFor:"instagram_handle_raw",className:"flex items-center text-lg",children:[s.jsx(Je,{className:"h-5 w-5 mr-2"})," Instagram (Link ou @usuario)"]}),s.jsx(A,{id:"instagram_handle_raw",name:"instagram_handle_raw",value:d.instagram_handle_raw,onChange:m,placeholder:"Ex: @seu_usuario ou instagram.com/seu_usuario",className:"text-base mt-2"}),d.instagram_handle_raw&&s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Preview: ",s.jsx("a",{href:`https://instagram.com/${ne(d.instagram_handle_raw)}`,target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:underline",children:`https://instagram.com/${ne(d.instagram_handle_raw)}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(w,{htmlFor:"city",children:"Cidade"}),s.jsx(A,{id:"city",name:"city",value:d.city||"",onChange:m,placeholder:"Ex: São Paulo"})]}),s.jsxs("div",{children:[s.jsx(w,{htmlFor:"state",children:"Estado"}),s.jsxs(K,{name:"state",value:d.state||"",onValueChange:r=>F("state",r),children:[s.jsx(Y,{id:"state",children:s.jsx(J,{placeholder:"Selecione o estado"})}),s.jsx(Z,{children:Ze.map(r=>s.jsx(Q,{value:r.value,children:r.label},r.value))})]})]})]}),s.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[s.jsx(w,{htmlFor:"cache_value",className:"text-lg font-semibold text-purple-800",children:"Cachê por Trabalho (Opcional)"}),s.jsx("p",{className:"text-sm text-purple-700 mt-1 mb-3",children:'Valor mínimo para contratação direta. Deixe em branco para "A Combinar".'}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"flex items-center justify-center h-11 px-3 bg-gray-100 border border-r-0 border-gray-300 rounded-l-md text-sm text-gray-600",children:"R$"}),s.jsx(A,{type:"text",id:"cache_value",name:"cache_value",value:V(d.cache_value),onChange:I,placeholder:"0,00",className:"rounded-l-none pl-3"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx(w,{htmlFor:"gender",children:"Gênero"}),s.jsxs(K,{name:"gender",value:d.gender,onValueChange:r=>F("gender",r),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Selecione..."})}),s.jsx(Z,{children:Qe.map(r=>s.jsx(Q,{value:r.value,children:r.label},r.value))})]}),(c==null?void 0:c.gender)&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.gender})]}),s.jsxs("div",{children:[s.jsx(w,{htmlFor:"model_type",children:"Tipo de Modelo"}),s.jsxs(K,{name:"model_type",value:d.model_type,onValueChange:r=>F("model_type",r),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Selecione..."})}),s.jsx(Z,{children:et.map(r=>s.jsx(Q,{value:r.value,children:r.label},r.value))})]}),(c==null?void 0:c.model_type)&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.model_type})]}),s.jsxs("div",{children:[s.jsx(w,{htmlFor:"model_physical_type",children:"Perfil Físico"}),s.jsxs(K,{name:"model_physical_type",value:d.model_physical_type,onValueChange:r=>F("model_physical_type",r),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Selecione..."})}),s.jsx(Z,{children:tt.map(r=>s.jsx(Q,{value:r.value,children:r.label},r.value))})]}),(c==null?void 0:c.model_physical_type)&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.model_physical_type})]})]}),s.jsxs("div",{children:[s.jsx(w,{children:"Características (Opcional)"}),s.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 gap-3",children:st.map(r=>s.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded-md",children:[s.jsx(we,{id:`char-${r.value}`,checked:d.model_characteristics.includes(r.value),onCheckedChange:h=>$("model_characteristics",r.value,h)}),s.jsx(w,{htmlFor:`char-${r.value}`,className:"font-normal cursor-pointer",children:r.label})]},r.value))})]}),s.jsxs("div",{children:[s.jsx(w,{children:"Interesses de Trabalho (Opcional)"}),s.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 gap-3",children:nt.map(r=>s.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded-md",children:[s.jsx(we,{id:`int-${r.value}`,checked:d.work_interests.includes(r.value),onCheckedChange:h=>$("work_interests",r.value,h)}),s.jsx(w,{htmlFor:`int-${r.value}`,className:"font-normal cursor-pointer",children:r.label})]},r.value))})]})]}),s.jsx("div",{className:"pt-6 border-t flex justify-center",children:s.jsxs(at,{type:"submit",disabled:L,className:"btn-gradient text-white w-full max-w-sm text-lg py-6",children:[L?s.jsx(_e,{className:"mr-2 h-6 w-6 animate-spin"}):s.jsx(it,{className:"mr-2 h-6 w-6"}),(k==null?void 0:k.button_text)||"Finalizar Cadastro"]})})]})})]})};var be={exports:{}};(function(k){(function(){function q(e,t,a){return e.call.apply(e.bind,arguments)}function L(e,t,a){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function b(e,t,a){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?q:L,b.apply(null,arguments)}var d=Date.now||function(){return+new Date};function E(e,t){this.a=e,this.o=t||e,this.c=this.o.document}var c=!!window.FontFace;function P(e,t,a,n){if(t=e.c.createElement(t),a)for(var i in a)a.hasOwnProperty(i)&&(i=="style"?t.style.cssText=a[i]:t.setAttribute(i,a[i]));return n&&t.appendChild(e.c.createTextNode(n)),t}function C(e,t,a){e=e.c.getElementsByTagName(t)[0],e||(e=document.documentElement),e.insertBefore(a,e.lastChild)}function _(e){e.parentNode&&e.parentNode.removeChild(e)}function m(e,t,a){t=t||[],a=a||[];for(var n=e.className.split(/\s+/),i=0;i<t.length;i+=1){for(var l=!1,o=0;o<n.length;o+=1)if(t[i]===n[o]){l=!0;break}l||n.push(t[i])}for(t=[],i=0;i<n.length;i+=1){for(l=!1,o=0;o<a.length;o+=1)if(n[i]===a[o]){l=!0;break}l||t.push(n[i])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function F(e,t){for(var a=e.className.split(/\s+/),n=0,i=a.length;n<i;n++)if(a[n]==t)return!0;return!1}function $(e){return e.o.location.hostname||e.a.location.hostname}function W(e,t,a){function n(){u&&i&&l&&(u(o),u=null)}t=P(e,"link",{rel:"stylesheet",href:t,media:"all"});var i=!1,l=!0,o=null,u=a||null;c?(t.onload=function(){i=!0,n()},t.onerror=function(){i=!0,o=Error("Stylesheet failed to load"),n()}):setTimeout(function(){i=!0,n()},0),C(e,"head",t)}function I(e,t,a,n){var i=e.c.getElementsByTagName("head")[0];if(i){var l=P(e,"script",{src:t}),o=!1;return l.onload=l.onreadystatechange=function(){o||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(o=!0,a&&a(null),l.onload=l.onreadystatechange=null,l.parentNode.tagName=="HEAD"&&i.removeChild(l))},i.appendChild(l),setTimeout(function(){o||(o=!0,a&&a(Error("Script load timeout")))},n||5e3),l}return null}function V(){this.a=0,this.c=null}function B(e){return e.a++,function(){e.a--,r(e)}}function O(e,t){e.c=t,r(e)}function r(e){e.a==0&&e.c&&(e.c(),e.c=null)}function h(e){this.a=e||"-"}h.prototype.c=function(e){for(var t=[],a=0;a<arguments.length;a++)t.push(arguments[a].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)};function p(e,t){this.c=e,this.f=4,this.a="n";var a=(t||"n4").match(/^([nio])([1-9])$/i);a&&(this.a=a[1],this.f=parseInt(a[2],10))}function g(e){return ae(e)+" "+(e.f+"00")+" 300px "+S(e.c)}function S(e){var t=[];e=e.split(/,\s*/);for(var a=0;a<e.length;a++){var n=e[a].replace(/['"]/g,"");n.indexOf(" ")!=-1||/^\d/.test(n)?t.push("'"+n+"'"):t.push(n)}return t.join(",")}function j(e){return e.a+e.f}function ae(e){var t="normal";return e.a==="o"?t="oblique":e.a==="i"&&(t="italic"),t}function Ne(e){var t=4,a="n",n=null;return e&&((n=e.match(/(normal|oblique|italic)/i))&&n[1]&&(a=n[1].substr(0,1).toLowerCase()),(n=e.match(/([1-9]00|normal|bold)/i))&&n[1]&&(/bold/i.test(n[1])?t=7:/[1-9]00/.test(n[1])&&(t=parseInt(n[1].substr(0,1),10)))),a+t}function Ce(e,t){this.c=e,this.f=e.o.document.documentElement,this.h=t,this.a=new h("-"),this.j=t.events!==!1,this.g=t.classes!==!1}function Fe(e){e.g&&m(e.f,[e.a.c("wf","loading")]),R(e,"loading")}function ie(e){if(e.g){var t=F(e.f,e.a.c("wf","active")),a=[],n=[e.a.c("wf","loading")];t||a.push(e.a.c("wf","inactive")),m(e.f,a,n)}R(e,"inactive")}function R(e,t,a){e.j&&e.h[t]&&(a?e.h[t](a.c,j(a)):e.h[t]())}function Se(){this.c={}}function ke(e,t,a){var n=[],i;for(i in t)if(t.hasOwnProperty(i)){var l=e.c[i];l&&n.push(l(t[i],a))}return n}function M(e,t){this.c=e,this.f=t,this.a=P(this.c,"span",{"aria-hidden":"true"},this.f)}function z(e){C(e.c,"body",e.a)}function U(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+S(e.c)+";"+("font-style:"+ae(e)+";font-weight:"+(e.f+"00")+";")}function re(e,t,a,n,i,l){this.g=e,this.j=t,this.a=n,this.c=a,this.f=i||3e3,this.h=l||void 0}re.prototype.start=function(){var e=this.c.o.document,t=this,a=d(),n=new Promise(function(o,u){function f(){d()-a>=t.f?u():e.fonts.load(g(t.a),t.h).then(function(x){1<=x.length?o():setTimeout(f,25)},function(){u()})}f()}),i=null,l=new Promise(function(o,u){i=setTimeout(u,t.f)});Promise.race([l,n]).then(function(){i&&(clearTimeout(i),i=null),t.g(t.a)},function(){t.j(t.a)})};function le(e,t,a,n,i,l,o){this.v=e,this.B=t,this.c=a,this.a=n,this.s=o||"BESbswy",this.f={},this.w=i||3e3,this.u=l||null,this.m=this.j=this.h=this.g=null,this.g=new M(this.c,this.s),this.h=new M(this.c,this.s),this.j=new M(this.c,this.s),this.m=new M(this.c,this.s),e=new p(this.a.c+",serif",j(this.a)),e=U(e),this.g.a.style.cssText=e,e=new p(this.a.c+",sans-serif",j(this.a)),e=U(e),this.h.a.style.cssText=e,e=new p("serif",j(this.a)),e=U(e),this.j.a.style.cssText=e,e=new p("sans-serif",j(this.a)),e=U(e),this.m.a.style.cssText=e,z(this.g),z(this.h),z(this.j),z(this.m)}var G={D:"serif",C:"sans-serif"},ee=null;function oe(){if(ee===null){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);ee=!!e&&(536>parseInt(e[1],10)||parseInt(e[1],10)===536&&11>=parseInt(e[2],10))}return ee}le.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=d(),he(this)};function ce(e,t,a){for(var n in G)if(G.hasOwnProperty(n)&&t===e.f[G[n]]&&a===e.f[G[n]])return!0;return!1}function he(e){var t=e.g.a.offsetWidth,a=e.h.a.offsetWidth,n;(n=t===e.f.serif&&a===e.f["sans-serif"])||(n=oe()&&ce(e,t,a)),n?d()-e.A>=e.w?oe()&&ce(e,t,a)&&(e.u===null||e.u.hasOwnProperty(e.a.c))?te(e,e.v):te(e,e.B):Pe(e):te(e,e.v)}function Pe(e){setTimeout(b(function(){he(this)},e),50)}function te(e,t){setTimeout(b(function(){_(this.g.a),_(this.h.a),_(this.j.a),_(this.m.a),t(this.a)},e),0)}function se(e,t,a){this.c=e,this.a=t,this.f=0,this.m=this.j=!1,this.s=a}var H=null;se.prototype.g=function(e){var t=this.a;t.g&&m(t.f,[t.a.c("wf",e.c,j(e).toString(),"active")],[t.a.c("wf",e.c,j(e).toString(),"loading"),t.a.c("wf",e.c,j(e).toString(),"inactive")]),R(t,"fontactive",e),this.m=!0,de(this)},se.prototype.h=function(e){var t=this.a;if(t.g){var a=F(t.f,t.a.c("wf",e.c,j(e).toString(),"active")),n=[],i=[t.a.c("wf",e.c,j(e).toString(),"loading")];a||n.push(t.a.c("wf",e.c,j(e).toString(),"inactive")),m(t.f,n,i)}R(t,"fontinactive",e),de(this)};function de(e){--e.f==0&&e.j&&(e.m?(e=e.a,e.g&&m(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),R(e,"active")):ie(e.a))}function ue(e){this.j=e,this.a=new Se,this.h=0,this.f=this.g=!0}ue.prototype.load=function(e){this.c=new E(this.j,e.context||this.j),this.g=e.events!==!1,this.f=e.classes!==!1,Ee(this,new Ce(this.c,e),e)};function Te(e,t,a,n,i){var l=--e.h==0;(e.f||e.g)&&setTimeout(function(){var o=i||null,u=n||null||{};if(a.length===0&&l)ie(t.a);else{t.f+=a.length,l&&(t.j=l);var f,x=[];for(f=0;f<a.length;f++){var v=a[f],y=u[v.c],T=t.a,X=v;if(T.g&&m(T.f,[T.a.c("wf",X.c,j(X).toString(),"loading")]),R(T,"fontloading",X),T=null,H===null)if(window.FontFace){var X=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),Xe=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);H=X?42<parseInt(X[1],10):!Xe}else H=!1;H?T=new re(b(t.g,t),b(t.h,t),t.c,v,t.s,y):T=new le(b(t.g,t),b(t.h,t),t.c,v,t.s,o,y),x.push(T)}for(f=0;f<x.length;f++)x[f].start()}},0)}function Ee(e,t,a){var i=[],n=a.timeout;Fe(t);var i=ke(e.a,a,e.c),l=new se(e.c,t,n);for(e.h=i.length,t=0,a=i.length;t<a;t++)i[t].load(function(o,u,f){Te(e,l,o,u,f)})}function fe(e,t){this.c=e,this.a=t}fe.prototype.load=function(e){function t(){if(l["__mti_fntLst"+n]){var o=l["__mti_fntLst"+n](),u=[],f;if(o)for(var x=0;x<o.length;x++){var v=o[x].fontfamily;o[x].fontStyle!=null&&o[x].fontWeight!=null?(f=o[x].fontStyle+o[x].fontWeight,u.push(new p(v,f))):u.push(new p(v))}e(u)}else setTimeout(function(){t()},50)}var a=this,n=a.a.projectId,i=a.a.version;if(n){var l=a.c.o;I(this.c,(a.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(i?"?v="+i:""),function(o){o?e([]):(l["__MonotypeConfiguration__"+n]=function(){return a.a},t())}).id="__MonotypeAPIScript__"+n}else e([])};function me(e,t){this.c=e,this.a=t}me.prototype.load=function(e){var t,a,n=this.a.urls||[],i=this.a.families||[],l=this.a.testStrings||{},o=new V;for(t=0,a=n.length;t<a;t++)W(this.c,n[t],B(o));var u=[];for(t=0,a=i.length;t<a;t++)if(n=i[t].split(":"),n[1])for(var f=n[1].split(","),x=0;x<f.length;x+=1)u.push(new p(n[0],f[x]));else u.push(new p(n[0]));O(o,function(){e(u,l)})};function Ae(e,t){e?this.c=e:this.c=De,this.a=[],this.f=[],this.g=t||""}var De="https://fonts.googleapis.com/css";function Ie(e,t){for(var a=t.length,n=0;n<a;n++){var i=t[n].split(":");i.length==3&&e.f.push(i.pop());var l="";i.length==2&&i[1]!=""&&(l=":"),e.a.push(i.join(l))}}function Oe(e){if(e.a.length==0)throw Error("No fonts to load!");if(e.c.indexOf("kit=")!=-1)return e.c;for(var t=e.a.length,a=[],n=0;n<t;n++)a.push(e.a[n].replace(/ /g,"+"));return t=e.c+"?family="+a.join("%7C"),0<e.f.length&&(t+="&subset="+e.f.join(",")),0<e.g.length&&(t+="&text="+encodeURIComponent(e.g)),t}function Le(e){this.f=e,this.a=[],this.c={}}var pe={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},$e={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},We={i:"i",italic:"i",n:"n",normal:"n"},Ve=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Be(e){for(var t=e.f.length,a=0;a<t;a++){var n=e.f[a].split(":"),i=n[0].replace(/\+/g," "),l=["n4"];if(2<=n.length){var o,u=n[1];if(o=[],u)for(var u=u.split(","),f=u.length,x=0;x<f;x++){var v;if(v=u[x],v.match(/^[\w-]+$/)){var y=Ve.exec(v.toLowerCase());if(y==null)v="";else{if(v=y[2],v=v==null||v==""?"n":We[v],y=y[1],y==null||y=="")y="4";else var T=$e[y],y=T||(isNaN(y)?"4":y.substr(0,1));v=[v,y].join("")}}else v="";v&&o.push(v)}0<o.length&&(l=o),n.length==3&&(n=n[2],o=[],n=n?n.split(","):o,0<n.length&&(n=pe[n[0]])&&(e.c[i]=n))}for(e.c[i]||(n=pe[i])&&(e.c[i]=n),n=0;n<l.length;n+=1)e.a.push(new p(i,l[n]))}}function ge(e,t){this.c=e,this.a=t}var Re={Arimo:!0,Cousine:!0,Tinos:!0};ge.prototype.load=function(e){var t=new V,a=this.c,n=new Ae(this.a.api,this.a.text),i=this.a.families;Ie(n,i);var l=new Le(i);Be(l),W(a,Oe(n),B(t)),O(t,function(){e(l.a,l.c,Re)})};function xe(e,t){this.c=e,this.a=t}xe.prototype.load=function(e){var t=this.a.id,a=this.c.o;t?I(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",function(n){if(n)e([]);else if(a.Typekit&&a.Typekit.config&&a.Typekit.config.fn){n=a.Typekit.config.fn;for(var i=[],l=0;l<n.length;l+=2)for(var o=n[l],u=n[l+1],f=0;f<u.length;f++)i.push(new p(o,u[f]));try{a.Typekit.load({events:!1,classes:!1,async:!0})}catch{}e(i)}},2e3):e([])};function ve(e,t){this.c=e,this.f=t,this.a=[]}ve.prototype.load=function(e){var t=this.f.id,a=this.c.o,n=this;t?(a.__webfontfontdeckmodule__||(a.__webfontfontdeckmodule__={}),a.__webfontfontdeckmodule__[t]=function(i,l){for(var o=0,u=l.fonts.length;o<u;++o){var f=l.fonts[o];n.a.push(new p(f.name,Ne("font-weight:"+f.weight+";font-style:"+f.style)))}e(n.a)},I(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+$(this.c)+"/"+t+".js",function(i){i&&e([])})):e([])};var D=new ue(window);D.a.c.custom=function(e,t){return new me(t,e)},D.a.c.fontdeck=function(e,t){return new ve(t,e)},D.a.c.monotype=function(e,t){return new fe(t,e)},D.a.c.typekit=function(e,t){return new xe(t,e)},D.a.c.google=function(e,t){return new ge(t,e)};var je={load:b(D.load,D)};k.exports?k.exports=je:(window.WebFont=je,window.WebFontConfig&&D.load(window.WebFontConfig))})()})(be);var ft=be.exports;const mt=rt(ft),jt=()=>{const{user:k}=ye(),[q,L]=N.useState(null),[b,d]=N.useState(!0),[E,c]=N.useState(null),P=N.useCallback(async()=>{var O,r,h,p;d(!0);try{const{data:g,error:S}=await lt.from("landing_pages").select("content, is_published").eq("slug","criar-modelo").single();if(S)throw S;if(g&&g.is_published){L(g.content);const j=[];(r=(O=g.content)==null?void 0:O.headline)!=null&&r.font_family&&!["Arial, sans-serif","Verdana, sans-serif","Georgia, serif"].includes(g.content.headline.font_family)&&j.push(g.content.headline.font_family.split(",")[0].replace(/'/g,"")),(p=(h=g.content)==null?void 0:h.subheadline)!=null&&p.font_family&&!["Arial, sans-serif","Verdana, sans-serif","Georgia, serif"].includes(g.content.subheadline.font_family)&&j.push(g.content.subheadline.font_family.split(",")[0].replace(/'/g,"")),j.length>0&&mt.load({google:{families:[...new Set(j)]}})}else c("Página não encontrada ou não está publicada.")}catch(g){console.error("Erro ao carregar a landing page:",g),c("Não foi possível carregar a página.")}finally{d(!1)}},[]);if(N.useEffect(()=>{P()},[P]),b)return s.jsx("div",{className:"w-full min-h-screen flex justify-center items-center bg-gray-100",children:s.jsx(_e,{className:"h-12 w-12 animate-spin text-pink-600"})});if(E)return s.jsxs("div",{className:"w-full min-h-screen flex flex-col justify-center items-center bg-gray-100 p-4 text-center",children:[s.jsx(ht,{className:"w-12 h-12 text-red-500 mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Oops! Algo deu errado."}),s.jsx("p",{className:"text-gray-600 mt-2",children:E})]});if(k)return s.jsxs("div",{className:"w-full min-h-screen flex flex-col justify-center items-center bg-gray-100 p-4 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Você já está logado!"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Não é necessário se cadastrar novamente."})]});const{logo:C={},headline:_={},subheadline:m={},background:F={},form_style:$={}}=q||{},W=F.type==="image"?{backgroundImage:`url(${F.value})`}:{backgroundColor:F.value||"#F9FAFB"},I=F.type==="image"?"bg-cover bg-center":"",V={fontFamily:_.font_family||"'Poppins', sans-serif",fontWeight:_.font_weight||"bold",color:_.color||"#111827"},B={fontFamily:m.font_family||"'Poppins', sans-serif",fontWeight:m.font_weight||"normal",color:m.color||"#4B5563"};return s.jsxs("div",{className:`min-h-screen w-full flex flex-col items-center p-4 sm:p-6 lg:p-8 ${I}`,style:W,children:[s.jsx("header",{className:"w-full max-w-5xl mx-auto py-6",children:C.url&&s.jsx("img",{src:C.url,alt:"Logo",className:`${C.size||"h-12"} w-auto mx-auto`})}),s.jsxs("section",{className:"w-full max-w-5xl mx-auto text-center my-8 md:my-12",children:[_.text&&s.jsx("h1",{className:`
                            ${_.font_size||"text-4xl"} 
                            ${_.alignment||"text-center"} 
                            leading-tight text-shadow
                        `,style:V,children:_.text}),m.text&&s.jsx("p",{className:`
                            ${m.font_size||"text-lg"} 
                            ${m.alignment||"text-center"} 
                            mt-4 max-w-3xl mx-auto
                        `,style:B,children:m.text})]}),s.jsx("div",{className:"w-full max-w-4xl mx-auto mb-12",children:s.jsx(ut,{formStyle:$})}),s.jsx("footer",{className:"w-full text-center py-6",children:s.jsxs("p",{className:"text-xs text-gray-500",children:["© ",new Date().getFullYear()," Banco de Modelos. Todos os direitos reservados."]})})]})};export{jt as default};
